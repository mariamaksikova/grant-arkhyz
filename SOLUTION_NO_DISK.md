# Решение проблемы с сохранением данных на бесплатном плане Render

## Проблема:
На бесплатном плане Render нет персистентных дисков, поэтому SQLite база данных не сохраняется между деплоями.

## Решение: Использовать PostgreSQL (управляемая база данных)

### Шаг 1: Создать PostgreSQL базу данных на Render

1. Войдите в Render Dashboard: https://dashboard.render.com
2. Нажмите **"New +"** → **"PostgreSQL"**
3. Заполните:
   - **Name**: `grant-arkhyz-db`
   - **Database**: `grant_arkhyz`
   - **User**: `grant_arkhyz_user`
   - **Region**: выберите ближайший
   - **PostgreSQL Version**: 15 (или последняя)
   - **Plan**: Free (бесплатный)
4. Нажмите **"Create Database"**

### Шаг 2: Получить строку подключения

После создания базы данных:
1. Откройте созданную базу данных
2. Найдите **"Internal Database URL"** (для использования внутри Render)
3. Скопируйте строку подключения (она выглядит так: `postgresql://user:password@host:5432/database`)

### Шаг 3: Добавить переменную окружения

1. Откройте ваш Web Service (`grant-arkhyz`)
2. Перейдите в **"Environment"**
3. Добавьте новую переменную:
   - **Key**: `DATABASE_URL`
   - **Value**: вставьте скопированную строку подключения
4. Сохраните изменения

### Шаг 4: Обновить код для работы с PostgreSQL

Нужно будет переписать `server.js` для использования PostgreSQL вместо SQLite.
Это потребует установки пакета `pg` и изменения всех SQL запросов.

## Альтернативное решение (проще): Использовать внешний сервис

### Вариант 1: Supabase (бесплатно)
- Создайте аккаунт на https://supabase.com
- Создайте проект
- Получите строку подключения
- Используйте PostgreSQL

### Вариант 2: Railway (бесплатно)
- Создайте аккаунт на https://railway.app
- Создайте PostgreSQL базу данных
- Получите строку подключения

## Временное решение (не рекомендуется)

Если нужно быстрое решение без переписывания кода:
- Данные будут теряться при каждом деплое
- Можно делать бэкапы вручную перед деплоем
- Или использовать другой хостинг с поддержкой персистентных дисков

